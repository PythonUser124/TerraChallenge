<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>California Wildfireâ€“Drought 3D (Terra)</title>
  <link rel="stylesheet" href="https://unpkg.com/cesium/Build/Cesium/Widgets/widgets.css">
  <style>html, body, #cesiumContainer { width:100%; height:100%; margin:0; padding:0; }</style>
</head>
<body>
<div id="cesiumContainer"></div>
<script src="https://unpkg.com/cesium/Build/Cesium/Cesium.js"></script>
<script>
(async function () {
  const viewer = new Cesium.Viewer("cesiumContainer", {
    timeline: true,
    animation: true,
    baseLayerPicker: false,
    terrainProvider: new Cesium.EllipsoidTerrainProvider()
  });

  const baseLayer = new Cesium.ArcGisMapServerImageryProvider({
    url: 'https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer'
  });

  // Ensure the viewer uses the ArcGIS imagery as the background.
  viewer.imageryLayers.removeAll();
  viewer.imageryLayers.addImageryProvider(baseLayer);

  // Focus camera on California
  viewer.camera.flyTo({
    destination: Cesium.Cartesian3.fromDegrees(-119.5, 37.2, 1200000),
    orientation: {
      heading: Cesium.Math.toRadians(350),
      pitch: Cesium.Math.toRadians(-35),
      roll: 0.0
    },
    duration: 1.5
  });

  // 25-year time window
  const start = Cesium.JulianDate.fromDate(new Date(Date.UTC(2000, 0, 1)));
  const stop  = Cesium.JulianDate.fromDate(new Date(Date.UTC(2025, 9, 1))); // Oct 1, 2025
  viewer.clock.startTime = start.clone();
  viewer.clock.stopTime  = stop.clone();
  viewer.clock.currentTime = start.clone();
  viewer.clock.clockRange = Cesium.ClockRange.CLAMPED;
  viewer.clock.multiplier = 500000; // speed up animation

})();
</script>
</body>
</html>
